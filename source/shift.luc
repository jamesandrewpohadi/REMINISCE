module shift (
    input alufn[6],
    input a[16],
    input b[16],
    output c[16]
  ) {

  always {
    c = 16b0;
    case (alufn[1:0]) {
      2b00:
        c = a << b[3:0]; // shift left
      2b01:
        c = a >> b[3:0]; // shift right
      2b11:
        c = $signed(a) >>> b[3:0]; // shift right with signed extension
    }
  }
}
